

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Supported Services &mdash; trigBoard
Version 8 0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hardware" href="Hardware.html" />
    <link rel="prev" title="Configurator" href="configurator.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">trigBoard v8 Docs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="wheretobuy.html">Where To Buy</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="configurator.html">Configurator</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Supported Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pushsafer">Pushsafer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pushover">Pushover</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sharing-notifications">Sharing Notifications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ifttt">IFTTT</a></li>
<li class="toctree-l2"><a class="reference internal" href="#udp-tcp">UDP/TCP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#udp">UDP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tcp">TCP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mqtt">MQTT</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Hardware.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="Firmware.html">Firmware/Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing/Factory Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
</ul>
<p class="caption"><span class="caption-text">Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ePaperCoronaDisplay.html">E-Paper Corona Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="cellularProject.html">Cellular/Battery Backed System</a></li>
<li class="toctree-l1"><a class="reference internal" href="doorbell.html">Door Bell Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="garage.html">Garage Door Monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="motionSensor.html">Motion Sensor - PIR</a></li>
<li class="toctree-l1"><a class="reference internal" href="multipleInputs.html">Multiple Inputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="temperatureSensor.html">Temperature Logging to Grafana</a></li>
<li class="toctree-l1"><a class="reference internal" href="waterleakDetector.html">Water Leak Detector</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">trigBoard
Version 8</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Supported Services</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/supportedServices.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="supported-services">
<span id="services"></span><h1>Supported Services<a class="headerlink" href="#supported-services" title="Permalink to this headline">¶</a></h1>
<p>Where the notifications are sent - the <a class="reference internal" href="configurator.html#configurator"><span class="std std-ref">Configurator Tool</span></a> is used to enable and “configure” any of these.  If the notification needs to just go straight to your smart phone, then Pushsafer or Pushover would be a good start.  For more advanced users, UDP or MQTT can be used, but these require a central gateway (rapsberry Pi or host AP)</p>
<div class="section" id="pushsafer">
<span id="id1"></span><h2>Pushsafer<a class="headerlink" href="#pushsafer" title="Permalink to this headline">¶</a></h2>
<img alt="_images/400px-PushSafer.png" class="align-center" src="_images/400px-PushSafer.png" />
<div class="line-block">
<div class="line"><a class="reference external" href="https://www.pushsafer.com">Pushsafer Service</a> is a great service for getting push notifications to your mobile devices. There are some nice features built in, like allowing for guest devices to be added/removed. This works nicely for a vacation setup where a someone may need to temporarily monitor a property. The notifications are purchased in bulk, but very inexpensive.</div>
</div>
<blockquote>
<div><p><strong>Pushsafer Setup</strong></p>
<ol class="arabic">
<li><p class="first">Go to <a class="reference external" href="https://www.pushsafer.com">Pushsafer.com</a> and create an account - you’ll need to download/install the app as well</p>
</li>
<li><p class="first">Copy the private key:</p>
<blockquote>
<div><img alt="_images/600px-PushSaferKeyv8.png" class="align-center" src="_images/600px-PushSaferKeyv8.png" />
</div></blockquote>
</li>
<li><p class="first">Paste that in the Configurator:</p>
<blockquote>
<div><img alt="_images/pushsaferconfig.png" class="align-center" src="_images/pushsaferconfig.png" />
</div></blockquote>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="pushover">
<span id="id2"></span><h2>Pushover<a class="headerlink" href="#pushover" title="Permalink to this headline">¶</a></h2>
<img alt="_images/400px-Pushoverlogo.png" class="align-center" src="_images/400px-Pushoverlogo.png" />
<div class="line-block">
<div class="line"><a class="reference external" href="https://pushover.net">Pushover Service</a> is similar to Pushsafer in that it’s a good reliable service for getting push notifications to your devices when there’s an event at the trigBoards.  The app is a one time purchase per device with a monthly allowance of 7500 notifications.  That should be plenty for most applications.</div>
</div>
<blockquote>
<div><p><strong>Pushover Setup</strong></p>
<ol class="arabic">
<li><p class="first">Go to <a class="reference external" href="https://pushover.net">pushover.net</a> and create and account - you’ll need to download/install the app as well</p>
</li>
<li><p class="first">You should see your private user key:</p>
<blockquote>
<div><img alt="_images/400px-Pushoveruserkey.png" class="align-center" src="_images/400px-Pushoveruserkey.png" />
</div></blockquote>
</li>
<li><p class="first">Scroll down and create a new application:</p>
<blockquote>
<div><img alt="_images/400px-PushOverCreateApp.png" class="align-center" src="_images/400px-PushOverCreateApp.png" />
</div></blockquote>
</li>
<li><p class="first">Can leave things the way they are - name whatever you want:</p>
<blockquote>
<div><img alt="_images/400px-PushoverAppcreaet.png" class="align-center" src="_images/400px-PushoverAppcreaet.png" />
</div></blockquote>
</li>
<li><p class="first">Then you should see the API Token:</p>
<blockquote>
<div><img alt="_images/400px-PushoverApitok.png" class="align-center" src="_images/400px-PushoverApitok.png" />
</div></blockquote>
</li>
<li><p class="first">Paste both of those into the Configurator:</p>
<blockquote>
<div><img alt="_images/pushoverConfig.png" class="align-center" src="_images/pushoverConfig.png" />
</div></blockquote>
</li>
</ol>
</div></blockquote>
<div class="section" id="sharing-notifications">
<h3>Sharing Notifications<a class="headerlink" href="#sharing-notifications" title="Permalink to this headline">¶</a></h3>
<p>If you want to share notifications with someone else, but not give them your login credentials, you can do that easily with Pushover.  Just note that if you ever plan on doing this, you should set this up ahead of time.  The user key will be different from the above steps, so you would have to change that on the trigBoard.  You would then be a subscriber to this feed yourself.</p>
<p>Follow the same steps as above to setup the application - in that screen, you can create a subscription code:</p>
<blockquote>
<div><img alt="_images/pushoversubcode.png" class="align-center" src="_images/pushoversubcode.png" />
</div></blockquote>
<p>Then fill out that screen and create new delivery group:</p>
<blockquote>
<div><img alt="_images/deliverygroupcreate.png" class="align-center" src="_images/deliverygroupcreate.png" />
</div></blockquote>
<p>Then you’ll notice in your application window, you have a new URL there that you can send people to subscribe to that feed:</p>
<blockquote>
<div><img alt="_images/suburlpushover.png" class="align-center" src="_images/suburlpushover.png" />
</div></blockquote>
<p>But the thing about this is that the user key that you use for the configurator needs to be for this delivery group. To find this key, you can click below that URL - in this case the “yourGroup” link there:</p>
<blockquote>
<div><img alt="_images/yourgroupurlk.png" class="align-center" src="_images/yourgroupurlk.png" />
</div></blockquote>
<p>There you will see the group key to be used as the user key in the trigBoard configurator - you still use the same API/Token Key from when you created the application:</p>
<blockquote>
<div><img alt="_images/groupkey.png" class="align-center" src="_images/groupkey.png" />
</div></blockquote>
<p>And that’s all there is to it!</p>
</div>
</div>
<div class="section" id="ifttt">
<span id="id3"></span><h2>IFTTT<a class="headerlink" href="#ifttt" title="Permalink to this headline">¶</a></h2>
<img alt="_images/400px-IFTTTlogo.png" class="align-center" src="_images/400px-IFTTTlogo.png" />
<div class="line-block">
<div class="line">This one is pretty obvious, but go check out the <a class="reference external" href="https://ifttt.com">IFTTT website</a> to see what all can be accomplished with this service. This alone can be used for the push notification, but it tends not be as fast as Pushsafer/Pushover. This is great for secondary alerts like sending emails, text messages, voice calls, home automation (lights on/off), publish to a google sheet, etc… there’s a lot here</div>
</div>
<blockquote>
<div><p><strong>IFTTT Setup</strong></p>
<ol class="arabic">
<li><p class="first">Go to <a class="reference external" href="https://ifttt.com">IFTTT.com</a> which stands for “IF This Then That” and is a very powerful integration service that allows an event from the trigBoard to connect to other IoT services, like send an email, text, update a google spreadsheet, turn lights on/off, etc… It requires a maker key in order to work, so first sign up or sign in using whatever option you want to use. I use google to login.</p>
</li>
<li><p class="first">Search for webhooks, then click services:</p>
<blockquote>
<div><img alt="_images/400px-Iftttwebhooks.png" class="align-center" src="_images/400px-Iftttwebhooks.png" />
</div></blockquote>
</li>
<li><p class="first">Just click on the webhooks service, click connect, and should be good to go. You should then see a “documentation” button:</p>
<blockquote>
<div><img alt="_images/400px-Iftttdocu.png" class="align-center" src="_images/400px-Iftttdocu.png" />
</div></blockquote>
</li>
<li><p class="first">Here you will see the maker key:</p>
<blockquote>
<div><img alt="_images/400px-Iftttkey.png" class="align-center" src="_images/400px-Iftttkey.png" />
</div></blockquote>
</li>
<li><p class="first">Then it’s pretty easy to setup the IF this then That recipe. Just use the web hook for the IF event, where the Event Name is what is given as the trigBoard name in the configurator (no spaces), then the Value 1 is the name, Value 2 is the message.</p>
</li>
<li><p class="first">Paste that maker key into the configurator:</p>
<blockquote>
<div><img alt="_images/ifttconfig.png" class="align-center" src="_images/ifttconfig.png" />
</div></blockquote>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="udp-tcp">
<h2>UDP/TCP<a class="headerlink" href="#udp-tcp" title="Permalink to this headline">¶</a></h2>
<p>Note - TCP added to Firmware version 12/20/20 or newer.  These two options allow for a fully customized solution to whatever you might have in mind.  For example - see the <a class="reference internal" href="cellularProject.html#cellularbattery"><span class="std std-ref">Cellular/Battery Backed System</span></a> project - this is a fully self contained system that relies on no outside services.  It’s battery backed, hosts its own network, and can still send push notifications out fast.  This is just an example though - even a simple point to point system can be easily designed.  The trigBoard supports both UDP and TCP - <a class="reference external" href="http://www.steves-internet-guide.com/tcp-vs-udp/">here’s a good write-up</a> on the differences.</p>
<p>To build your own gateway, here is some sample code you can use to run on an ESP32 to act as a server.  It supports both UDP and TCP: <a class="reference external" href="https://github.com/krdarrah/trigBoard-Server-EXAMPLE-TCP-UDP">Github Repo</a></p>
<p>Note - you will need to install the <a class="reference external" href="https://github.com/me-no-dev/ESPAsyncWebServer">ESPAsyncWebServer</a> and <a class="reference external" href="https://github.com/me-no-dev/AsyncTCP">AsyncTCP</a> Libraries</p>
<p>How it all works explained here:</p>
<div style="text-align: center; margin-bottom: 2em;">
<iframe width="560" height="315" src="https://www.youtube.com/embed/iNWH1FuM320" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div><div class="section" id="udp">
<span id="id4"></span><h3>UDP<a class="headerlink" href="#udp" title="Permalink to this headline">¶</a></h3>
<p>Because UDP is connectionless, the trigBoard configuration allows for a “blast”, the default is to send out 10 packets separated by 10ms.  The idea is that this blast of packets guarantees at least one will get through.  There is no handshaking or acknowledgment back to the trigBoard, so it simply sends all of the packets and goes back to sleep.  This means the transmission will be faster, thus keeping the on-time shorter and conserving battery life.  Then again, without any knowledge that any of the packets got through, there’s a chance they didn’t.</p>
<blockquote>
<div><img alt="_images/udpsettings.png" class="align-center" src="_images/udpsettings.png" />
</div></blockquote>
<p>You can leave most of these settings to their default values.  Just set the SSID/PW, and if you’re using the gateway as the access point, then that would default to 192.168.4.1, which is also the target IP.  Because connection speed is important here, select a static IP, which I normally use 192.168.4.100, 192.168.4.101, etc… <a class="reference external" href="http://www.gregthatcher.com/Papers/IT/SubnetCalculator.aspx">Here’s a good subnet calculator</a></p>
<p>The message sent out is formatted like this: “&lt;trigBoard Name&gt; &lt;Event&gt;, &lt;battery&gt;” or as a real example: “test trigBoard 1 Contact Still Open-18-, 4.14V”</p>
</div>
<div class="section" id="tcp">
<span id="id5"></span><h3>TCP<a class="headerlink" href="#tcp" title="Permalink to this headline">¶</a></h3>
<p>This was added in Firmware 12/20/20 - make sure you have the latest <a class="reference internal" href="Firmware.html#firmware"><span class="std std-ref">Firmware Installed</span></a></p>
<p>The inspiration for adding TCP messaging came from the need for an ultra reliable home security system.  The only downside here is that TCP may hurt battery life slightly since a full handshake between the trigBoards and receiving device occurs on every event.  Also, if the handshake fails, the trigBoard will attempt a number of retries.</p>
<blockquote>
<div><img alt="_images/tcpsettings.png" class="align-center" src="_images/tcpsettings.png" />
</div></blockquote>
<p>The settings here are very similar to UDP, set the SSID/PW for the gateway and set target IP and static IP.  Note that the port is fixed to 80.  The retries value is how many full attempts the trigBoard will make before going back to sleep.  This actually reconnects to the SSID, so be careful setting the WiFi Timeout value above - may want to lower this in case you loose the gateway or make a mistake in here and the board cannot connect.  That means that to re-enter the configurator mode, you will have to wait for all failure attempts.  So if WiFi timeout is 10seconds, and retries is 10, then you’ll need too wait for 100seconds.  This of course is only if it can’t connect.</p>
<p>The message sent out is formatted like this: “&lt;trigBoard Name&gt; &lt;Event&gt;, &lt;battery&gt;$$$&lt;timestamp&gt;” or as a real example: “test trigBoard 1 Contact Still Open-18-, 4.15V$$$34743”   the reason for the unique timestamp there is just in case the gateway receives the message, but then a retry is attempted.  So that means that the acknowledgment back to the trigBoard failed and it attempted the retry.  The gateway will see the same message and know that the trigBoard is just trying again, not that it’s a unique event from that same trigBoard, which would be like the front door opening and closing twice quickly.</p>
</div>
</div>
<div class="section" id="mqtt">
<span id="id6"></span><h2>MQTT<a class="headerlink" href="#mqtt" title="Permalink to this headline">¶</a></h2>
<p>Similar to UDP, but if you’re using the raspberry pi or something to run your home automation system, and it’s all based on MQTT messaging, then this will work great for that. This was added in at the request of support for Home Assistant (not tested though)</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Hardware.html" class="btn btn-neutral float-right" title="Hardware" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="configurator.html" class="btn btn-neutral float-left" title="Configurator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Kevin Darrah

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>